<?xml version="1.0" encoding="UTF-8" ?>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">

    <!--Example: http://www.w3schools.com/xml/schema_example.asp-->
    <!--
    Employment record should have
    - SSN of person
    - List of employments
    - Employment should have
    - Company name
    - Employee role in company
    - Start date
    - End date
    - contact email
    - can contact first rules
    -->

    <xs:simpleType name="ssntype">
        <xs:restriction base="xs:string">
            <xs:pattern value="[0-9]{10}"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="emailtype">
        <xs:restriction base="xs:string">
            <xs:pattern value="[^@]+@[^\.]+\..+"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:simpleType name="contactrulestype">
        <xs:restriction base="xs:string">
            <xs:enumeration value="Yes"/>
            <xs:enumeration value="No"/>
            <xs:enumeration value="Contact employee first"/>
        </xs:restriction>
    </xs:simpleType>

    <xs:complexType name="employmenttype">
        <xs:sequence>
            <xs:element name="companyname" type="xs:string"/>
            <xs:element name="roledescription" type="xs:string"/>
            <xs:element name="startdate" type="xs:date"/>
            <xs:element name="enddate" type="xs:date"/>
            <xs:element name="contactemail" type="emailtype"/>
            <xs:element name="cancontact" type="contactrulestype"/>
        </xs:sequence>
    </xs:complexType>

    <xs:complexType name="employmentrecordtype">
        <xs:sequence>
            <xs:element name="ssn" type="ssntype"/>
            <xs:element name="employment" minOccurs="0" maxOccurs="unbounded" type="employmenttype"/>
        </xs:sequence>
    </xs:complexType>

    <xs:element name="employmentrecord" type="employmentrecordtype"/>

</xs:schema>